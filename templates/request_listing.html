{% extends "base.html" %} {% block content %}
<section class="form-section">
  <div class="container">
    <div
      class="form-container"
      style="
        max-width: 600px;
        margin: auto;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background: #fff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      "
    >
      <h2 style="text-align: center; margin-bottom: 20px">
        Request Food: {{ listing.title }}
      </h2>

      <p><strong>Donor:</strong> {{ listing.donor.username }}</p>
      <p><strong>Quantity:</strong> {{ listing.quantity }}</p>
      <p><strong>Pickup Location:</strong> {{ listing.pickup_location }}</p>

      <form
        method="POST"
        action="{{ url_for('request_listing', listing_id=listing.id) }}"
      >
        <div class="form-group" style="margin: 20px 0">
          <label
            for="message"
            style="display: block; margin-bottom: 8px; font-weight: bold"
            >Message to Donor</label
          >

          <textarea
            id="message"
            name="message"
            rows="6"
            placeholder="Tell the donor why you need this food and how you'll pick it up"
            required
            style="
              width: 100%;
              padding: 10px;
              font-size: 14px;
              line-height: 1.4;
              border: 1px solid #ccc;
              border-radius: 4px;
              resize: vertical;
              box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
              transition: border-color 0.3s, box-shadow 0.3s;
            "
            onfocus="this.style.borderColor='#66afe9'; this.style.boxShadow='0 0 5px rgba(102,175,233,0.6)';"
            onblur="this.style.borderColor='#ccc'; this.style.boxShadow='inset 0 1px 2px rgba(0,0,0,0.1)';"
          ></textarea>
        </div>

        <div
          class="action-buttons"
          style="display: flex; gap: 10px; margin-top: 20px"
        >
          <button
            type="submit"
            class="btn btn-primary"
            style="flex: 1; padding: 10px; font-size: 16px"
          >
            Submit Request
          </button>

          <a
            href="{{ url_for('listing_detail', listing_id=listing.id) }}"
            class="btn btn-outline"
            style="
              flex: 1;
              text-align: center;
              padding: 10px;
              font-size: 16px;
              text-decoration: none;
              border: 1px solid #ccc;
              border-radius: 4px;
              color: #333;
              background: #f9f9f9;
            "
          >
            Cancel
          </a>
        </div>
      </form>
    </div>
  </div>
</section>
{% endblock %}
